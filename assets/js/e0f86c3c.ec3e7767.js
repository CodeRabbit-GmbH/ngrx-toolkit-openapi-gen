"use strict";(globalThis.webpackChunkdocs_site=globalThis.webpackChunkdocs_site||[]).push([[8349],{757(e,n,s){s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>d,default:()=>h,frontMatter:()=>r,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"domain-generation","title":"Domain Generation","description":"Tags Become Domains","source":"@site/docs/domain-generation.md","sourceDirName":".","slug":"/domain-generation","permalink":"/domain-generation","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4},"sidebar":"docsSidebar","previous":{"title":"Quick Start","permalink":"/quick-start"},"next":{"title":"OpenAPI Requirements","permalink":"/openapi-requirements"}}');var i=s(4848),a=s(8453);const r={sidebar_position:4},d="Domain Generation",o={},l=[{value:"Tags Become Domains",id:"tags-become-domains",level:2},{value:"Operation Classification",id:"operation-classification",level:2},{value:"Collection (GET array)",id:"collection-get-array",level:3},{value:"Detail (GET by ID)",id:"detail-get-by-id",level:3},{value:"Mutation (POST/PUT/DELETE)",id:"mutation-postputdelete",level:3},{value:"Requirements",id:"requirements",level:2},{value:"1. Every operation needs a tag",id:"1-every-operation-needs-a-tag",level:3},{value:"2. Use schema references",id:"2-use-schema-references",level:3},{value:"3. Use operationId for mutations",id:"3-use-operationid-for-mutations",level:3},{value:"Primitive Arrays",id:"primitive-arrays",level:2}];function c(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"domain-generation",children:"Domain Generation"})}),"\n",(0,i.jsx)(n.h2,{id:"tags-become-domains",children:"Tags Become Domains"}),"\n",(0,i.jsxs)(n.p,{children:["OpenAPI ",(0,i.jsx)(n.strong,{children:"tags"})," organize operations into domains:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"paths:\n  /api/flights:\n    get:\n      tags: [Flight]      # \u2192 flight/ domain\n  /api/passengers:\n    get:\n      tags: [Passenger]   # \u2192 passenger/ domain\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Output:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"generated/\n\u2514\u2500\u2500 my-api/\n    \u251c\u2500\u2500 flight/\n    \u2502   \u2514\u2500\u2500 application/flight.store.ts\n    \u2514\u2500\u2500 passenger/\n        \u2514\u2500\u2500 application/passenger.store.ts\n"})}),"\n",(0,i.jsx)(n.h2,{id:"operation-classification",children:"Operation Classification"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Pattern"}),(0,i.jsx)(n.th,{children:"Method"}),(0,i.jsx)(n.th,{children:"Result"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"/items"})}),(0,i.jsx)(n.td,{children:"GET"}),(0,i.jsx)(n.td,{children:"Collection resource"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"/items/{id}"})}),(0,i.jsx)(n.td,{children:"GET"}),(0,i.jsx)(n.td,{children:"Detail resource"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"/items"})}),(0,i.jsx)(n.td,{children:"POST"}),(0,i.jsx)(n.td,{children:"Create mutation"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"/items/{id}"})}),(0,i.jsx)(n.td,{children:"PUT/PATCH"}),(0,i.jsx)(n.td,{children:"Update mutation"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"/items/{id}"})}),(0,i.jsx)(n.td,{children:"DELETE"}),(0,i.jsx)(n.td,{children:"Delete mutation"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"collection-get-array",children:"Collection (GET array)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"/api/tasks:\n  get:\n    tags: [Task]\n    responses:\n      '200':\n        content:\n          application/json:\n            schema:\n              type: array\n              items:\n                $ref: '#/components/schemas/Task'\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Generates:"})," ",(0,i.jsx)(n.code,{children:"store.tasksValue()"}),", ",(0,i.jsx)(n.code,{children:"store.tasksIsLoading()"})]}),"\n",(0,i.jsx)(n.h3,{id:"detail-get-by-id",children:"Detail (GET by ID)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"/api/tasks/{id}:\n  get:\n    tags: [Task]\n    parameters:\n      - name: id\n        in: path\n        schema:\n          type: string\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Generates:"})," ",(0,i.jsx)(n.code,{children:"store.selectedTaskId()"}),", ",(0,i.jsx)(n.code,{children:"store.taskDetailValue()"}),", ",(0,i.jsx)(n.code,{children:"store.selectTask(id)"})]}),"\n",(0,i.jsx)(n.h3,{id:"mutation-postputdelete",children:"Mutation (POST/PUT/DELETE)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"/api/tasks:\n  post:\n    tags: [Task]\n    operationId: createTask\n    requestBody:\n      content:\n        application/json:\n          schema:\n            $ref: '#/components/schemas/CreateTask'\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Generates:"})," ",(0,i.jsx)(n.code,{children:"store.createTask(data)"}),", ",(0,i.jsx)(n.code,{children:"store.createTaskIsPending()"})]}),"\n",(0,i.jsx)(n.h2,{id:"requirements",children:"Requirements"}),"\n",(0,i.jsx)(n.h3,{id:"1-every-operation-needs-a-tag",children:"1. Every operation needs a tag"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"# \u2705 Good\n/api/tasks:\n  get:\n    tags: [Task]\n\n# \u274c Bad - won't be generated\n/api/tasks:\n  get:\n    # no tag\n"})}),"\n",(0,i.jsx)(n.h3,{id:"2-use-schema-references",children:"2. Use schema references"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"# \u2705 Good - creates TaskModel\nschema:\n  $ref: '#/components/schemas/Task'\n\n# \u26a0\ufe0f Works but no model file\nschema:\n  type: object\n  properties:\n    id:\n      type: string\n"})}),"\n",(0,i.jsx)(n.h3,{id:"3-use-operationid-for-mutations",children:"3. Use operationId for mutations"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"# \u2705 Good\npost:\n  operationId: createTask  # \u2192 store.createTask()\n\n# \u26a0\ufe0f Works but auto-generated name\npost:\n  # no operationId\n"})}),"\n",(0,i.jsx)(n.h2,{id:"primitive-arrays",children:"Primitive Arrays"}),"\n",(0,i.jsx)(n.p,{children:"Non-entity arrays are also supported:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"/api/airports:\n  get:\n    tags: [Airport]\n    responses:\n      '200':\n        content:\n          application/json:\n            schema:\n              type: array\n              items:\n                type: string\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Generates:"})," ",(0,i.jsx)(n.code,{children:"store.getAirportsValue()"})," returning ",(0,i.jsx)(n.code,{children:"string[]"})]})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}}}]);